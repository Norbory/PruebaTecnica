<app-navbar></app-navbar>

<main class="flex flex-1 flex-col justify-center items-center">

  <!-- Seccion de busqueda principal -->
  <section class="h-[92vh] flex flex-col justify-center items-center">
    <h1 class="font-bold md:text-6xl text-4xl text-[#ead949]">CHECKSUPPLY</h1>
    <h3 class="font-semibold text-[#FDFBF6] md:text-2xl pb-2">Your online safety tool</h3>
    <p class="font-normal text-[#BBBABC] md:max-w-[70%] max-w-[90%] text-center md:py-10 py-6 md:text-lg text-sm">
      Effortlessly search for any enterprise's presence in our database for potential ties to malicious activities. Simply input the enterprise name or domain, and receive immediate results.
    </p>
    <div class=" relative md:w-[70%] w-[90%] flex flex-col sm:py-4 py-2">
      <label 
        for="filtername" 
        class="text-[#FDFBF6] px-6 py-2 md:text-lg text-sm"
      >
        Search if entity is already listed
      </label>
      <input
        id="filtername"
        type="text" 
        placeholder="Colocar nombre de empresa"
        class="relative bg-[#FDFBF6] rounded-full py-4 px-6 text-[#242422] focus:outline-none focus:ring-2 focus:ring-[#CB9F01] focus:ring-opacity-50"
        autocomplete="off"
        name="filtername"
        [(ngModel)]= "filtername"
      >
      <a class="absolute sm:bottom-8 right-8 bottom-6 cursor-pointer">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
          <path stroke-linecap="round" stroke-linejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z" />
        </svg>        
      </a>
    </div>
  </section>

  <!-- Barra de estadísticas -->
  <section class="w-full bg-[#FDFBF6] p-4 flex sm:justify-around items-center sm:flex-row flex-col sm:mt-12 mt-4 transition-all ease-in-out duration-200">

    <div class="flex md:py-0 py-6 transition-all ease-in-out duration-200 justify-between">
      <div class="md:w-24 md:h-24 w-20 h-20 rounded-full bg-[#CB9F01]/40 flex justify-center items-center">
        <svg class="w-[50%] h-[50%] text-[#CB9F01]" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
          <path fill-rule="evenodd" d="M4 4a1 1 0 0 1 1-1h14a1 1 0 1 1 0 2v14a1 1 0 1 1 0 2H5a1 1 0 1 1 0-2V5a1 1 0 0 1-1-1Zm5 2a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1h1a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H9Zm5 0a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1h1a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1h-1Zm-5 4a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1h1a1 1 0 0 0 1-1v-1a1 1 0 0 0-1-1H9Zm5 0a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1h1a1 1 0 0 0 1-1v-1a1 1 0 0 0-1-1h-1Zm-3 4a2 2 0 0 0-2 2v3h2v-3h2v3h2v-3a2 2 0 0 0-2-2h-2Z" clip-rule="evenodd"/>
        </svg>        
      </div>
      <div class="flex flex-col px-2 justify-center">
        <h3 class="text-[#242422] text-md font-semibold">
          Empresas registradas
        </h3>
        <h2 class="text-[#302E39] text-2xl font-bold">
          {{ listEntity.length }}
        </h2>
        <h3 class="text-[#242422] text-sm font-semibold text-wrap">
          <strong class="text-[#004e35]">+ 16%</strong> último mes
        </h3>

      </div>
    </div>

    <div class="flex md:py-0 py-6 transition-all ease-in-out duration-200">
      <div class="md:w-24 md:h-24 w-20 h-20 rounded-full bg-[#CB9F01]/40 flex justify-center items-center">
        <svg class="w-[50%] h-[50%] text-[#CB9F01]" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
          <path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="m21 21-3.5-3.5M17 10a7 7 0 1 1-14 0 7 7 0 0 1 14 0Z"/>
        </svg>    
      </div>
      <div class="flex flex-col px-2 justify-center">
        <h3 class="text-[#242422] text-md font-semibold">
          Búsquedas realizadas
        </h3>
        <h2 class="text-[#302E39] text-2xl font-bold">
          + 65000
        </h2>
        <h3 class="text-[#242422] text-sm font-semibold text-wrap">
          <strong class="text-[#004e35]">+ 10%</strong> último mes
        </h3>

      </div>
    </div>

    <div class="flex md:py-0 py-6 transition-all ease-in-out duration-200">
      <div class="md:w-24 md:h-24 w-20 h-20 rounded-full bg-[#CB9F01]/40 flex justify-center items-center">
        <svg class="w-[50%] h-[50%] text-[#CB9F01]" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
          <path fill-rule="evenodd" d="M12 4a4 4 0 1 0 0 8 4 4 0 0 0 0-8Zm-2 9a4 4 0 0 0-4 4v1a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-1a4 4 0 0 0-4-4h-4Z" clip-rule="evenodd"/>
        </svg>       
      </div>
      <div class="flex flex-col px-2 justify-center">
        <h3 class="text-[#242422] text-md font-semibold">
          Usuarios registrados
        </h3>
        <h2 class="text-[#302E39] text-2xl font-bold">
          + 1,200
        </h2>
        <div class="flex -space-x-4 rtl:space-x-reverse">
          <img class="w-10 h-10 border-2 border-white rounded-full dark:border-gray-800" src="https://www.morganstanley.com/content/dam/msdotcom/people/tiles/isaiah-dwuma.jpg.img.380.medium.jpg/1594668408164.jpg" alt="Foto de usuario">
          <img class="w-10 h-10 border-2 border-white rounded-full dark:border-gray-800" src="https://d34u8crftukxnk.cloudfront.net/slackpress/prod/sites/6/E12KS1G65-W0168RE00G7-133faf432639-512.jpeg" alt="Foto de usuario">
          <img class="w-10 h-10 border-2 border-white rounded-full dark:border-gray-800" src="https://www.perfocal.com/blog/content/images/2021/01/Perfocal_17-11-2019_TYWFAQ_100_standard-3.jpg" alt="Foto de usuario">
          <a class="flex items-center justify-center w-10 h-10 text-xs font-medium text-white bg-gray-700 border-2 border-white rounded-full hover:bg-gray-600 dark:border-gray-800" href="#">+99</a>
        </div>
      </div>
    </div>
    
  </section>
  
  <!-- Form para agregar empresa -->
  <section 
    id="detalles-empresa"
    class="relative sm:w-[85%] w-full bg-[#FDFBF6] p-8 rounded-2xl flex flex-col my-4 transition-all ease-in-out duration-200 mt-16"
  >
    <h3 class="font-semibold text-[#242422] text-xl py-4 px-2">Detalles de empresa</h3>

    <!-- Modals de estados -->
    <div *ngIf="this.submitted" class="fixed top-10 left-10 rounded-lg bg-green-600 w-80 p-5 transition-all duration-300 ease-in-out">
      <h5 class="text-white text-lg font-semibold text-wrap">EMPRESA REGISTRADA</h5>
      <p class="text-white text-sm font-medium text-wrap">
        Una nueva empresa ha sido registrada exitosamente.
      </p>
    </div>
    <div *ngIf="this.edited" class="fixed top-10 left-10 rounded-lg bg-yellow-600 w-80 p-5 transition-all duration-300 ease-in-out">
      <h5 class="text-[#282828] text-lg font-semibold text-wrap">EMPRESA ACTUALIZADA</h5>
      <p class="text-[#282828] text-sm font-medium text-wrap">
        Una empresa ha sido registrada exitosamente.
      </p>
    </div>
    <div *ngIf="this.deleted" class="fixed top-10 left-10 rounded-lg bg-red-600 w-80 p-5 transition-all duration-300 ease-in-out">
      <h5 class="text-white text-lg font-semibold text-wrap">EMPRESA ELIMINADA</h5>
      <p class="text-white text-sm font-medium text-wrap">
        Una empresa ha sido eliminada exitosamente.
      </p>
    </div>

    <!-- Formulario de registro de empresa -->
    <form 
      [formGroup]="form"
      (ngSubmit)="agregarEmpresa()"
      class="grid lg:grid-cols-3 sm:grid-cols-2 grid-cols-1 gap-3"
    >

      <!-- Campo Razon Social -->
      <div class="flex flex-col sm:py-4 py-2 justify-start min-h-32">
        <label 
          for="Razon" 
          class="text-[#242422] text-md font-semibold px-2" 
          [class.validoTexto]="form.controls['Razon'].valid && (form.controls['Razon'].touched || form.controls['Razon'].dirty)"
        >
          Razón Social
        </label>
        <input
          placeholder="Ferreyros S.A."
          required 
          id="Razon"
          formControlName="Razon"
          type="text"
          class="text-[##393937] text-sm font-medium p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#CB9F01] focus:ring-opacity-50"
          [class.noValido]="form.controls['Razon'].invalid && (form.controls['Razon'].touched || form.controls['Razon'].dirty)"
          [class.valido]="form.controls['Razon'].valid && (form.controls['Razon'].touched || form.controls['Razon'].dirty)"
        />
        <!-- Elementos de validación -->
        <div
          *ngIf="form.controls['Razon'].invalid && (form.controls['Razon'].touched || form.controls['Razon'].dirty)"
        >
          <p
            class="text-[#760000] text-xs font-semibold px-2"
            *ngIf="form.controls['Razon'].errors?.['required']"
          >
            Este campo es obligatorio
          </p>
        </div>
      </div>

      <!-- Campo Nombre Empresa -->
      <div class="flex flex-col sm:py-4 py-2 justify-start min-h-32">
        <label 
          for="NombreEmpresa" 
          class="text-[#242422] text-md font-semibold px-2"
          [class.validoTexto]="form.controls['NombreEmpresa'].valid && (form.controls['NombreEmpresa'].touched || form.controls['NombreEmpresa'].dirty)"
        >
          Nombre
        </label>
        <input
          placeholder="Ernst & Young"
          required 
          id="NombreEmpresa"
          formControlName="NombreEmpresa"
          type="text"
          class="text-[##393937] text-sm font-medium p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#CB9F01] focus:ring-opacity-50"
          [class.noValido]="form.controls['NombreEmpresa'].invalid && (form.controls['NombreEmpresa'].touched || form.controls['NombreEmpresa'].dirty)"
          [class.valido]="form.controls['NombreEmpresa'].valid && (form.controls['NombreEmpresa'].touched || form.controls['NombreEmpresa'].dirty)"
        />
        <!-- Elementos de validación -->
        <div
          *ngIf="form.controls['NombreEmpresa'].invalid && (form.controls['NombreEmpresa'].touched || form.controls['NombreEmpresa'].dirty)"
        >
          <p
            class="text-[#760000] text-xs font-semibold px-2"
            *ngIf="form.controls['NombreEmpresa'].errors?.['required']"
          >
            Este campo es obligatorio
          </p>
        </div>
      </div>

      <!-- Campo Identificacion Fiscal -->
      <div class="flex flex-col sm:py-4 py-2 justify-start min-h-32">
        <label 
          for="IdentificacionFiscal" 
          class="text-[#242422] text-md font-semibold px-2"
          [class.validoTexto]="form.controls['IdentificacionFiscal'].valid && (form.controls['IdentificacionFiscal'].touched || form.controls['IdentificacionFiscal'].dirty)"
        >
          Identificación Tributaria
        </label>
        <input
          placeholder="20100028698"
          required 
          id="IdentificacionFiscal"
          formControlName="IdentificacionFiscal"
          type="tel"
          class="text-[##393937] text-sm font-medium p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#CB9F01] focus:ring-opacity-50"
          [class.noValido]="form.controls['IdentificacionFiscal'].invalid && (form.controls['IdentificacionFiscal'].touched || form.controls['IdentificacionFiscal'].dirty)"
          [class.valido]="form.controls['IdentificacionFiscal'].valid && (form.controls['IdentificacionFiscal'].touched || form.controls['IdentificacionFiscal'].dirty)"
        />
        <!-- Elementos de validación -->
        <div
          *ngIf="form.controls['IdentificacionFiscal'].invalid && (form.controls['IdentificacionFiscal'].touched || form.controls['IdentificacionFiscal'].dirty)"
        >
          <p
            class="text-[#760000] text-xs font-semibold px-2"
            *ngIf="form.controls['IdentificacionFiscal'].errors?.['required']"
          >
            Este campo es obligatorio
          </p>
          <p
            class="text-[#760000] text-xs font-semibold px-2"
            *ngIf="form.controls['IdentificacionFiscal'].errors?.['minlength']"
          >
            El campo debe tener al menos 11 caracteres
          </p>
          <p
            class="text-[#760000] text-xs font-semibold px-2"
            *ngIf="form.controls['IdentificacionFiscal'].errors?.['maxlength']"
          >
            El campo debe tener un máximo de 11 caracteres
          </p>
          <p
            class="text-[#760000] text-xs font-semibold px-2"
            *ngIf="form.controls['IdentificacionFiscal'].errors?.['pattern']"
          >
            Solo se permiten números
          </p>
        </div>
      </div>

      <!-- Campo Numero Telefono -->
      <div class="flex flex-col sm:py-4 py-2 justify-start min-h-32">
        <label 
          for="NumeroTelefono" 
          class="text-[#242422] text-md font-semibold px-2"
          [class.validoTexto]="form.controls['NumeroTelefono'].valid && (form.controls['NumeroTelefono'].touched || form.controls['NumeroTelefono'].dirty)"
        >
          Número Telefónico
        </label>
        <input
          placeholder="987654321"
          required 
          id="NumeroTelefono"
          formControlName="NumeroTelefono"
          type="tel"
          class="text-[##393937] text-sm font-medium p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#CB9F01] focus:ring-opacity-50"
          [class.noValido]="form.controls['NumeroTelefono'].invalid && (form.controls['NumeroTelefono'].touched || form.controls['NumeroTelefono'].dirty)"
          [class.valido]="form.controls['NumeroTelefono'].valid && (form.controls['NumeroTelefono'].touched || form.controls['NumeroTelefono'].dirty)"
        />
        <!-- Elementos de validación -->
        <div
          *ngIf="form.controls['NumeroTelefono'].invalid && (form.controls['NumeroTelefono'].touched || form.controls['NumeroTelefono'].dirty)"
        >
          <p
            class="text-[#760000] text-xs font-semibold px-2"
            *ngIf="form.controls['NumeroTelefono'].errors?.['required']"
          >
            Este campo es obligatorio
          </p>
          <p
            class="text-[#760000] text-xs font-semibold px-2"
            *ngIf="form.controls['NumeroTelefono'].errors?.['minlength']"
          >
            El campo debe tener al menos 9 caracteres
          </p>
          <p
            class="text-[#760000] text-xs font-semibold px-2"
            *ngIf="form.controls['NumeroTelefono'].errors?.['maxlength']"
          >
            El campo debe tener un máximo de 9 caracteres
          </p>
          <p
            class="text-[#760000] text-xs font-semibold px-2"
            *ngIf="form.controls['NumeroTelefono'].errors?.['pattern']"
          >
            Solo se permiten números
          </p>
        </div>
      </div>

      <!-- Campo Correo Electronico -->
      <div class="flex flex-col sm:py-4 py-2 justify-start min-h-32">
        <label 
          for="CorreoElectronico" 
          class="text-[#242422] text-md font-semibold px-2"
          [class.validoTexto]="form.controls['CorreoElectronico'].valid && (form.controls['CorreoElectronico'].touched || form.controls['CorreoElectronico'].dirty)"
        >
          Correo
        </label>
        <input
          placeholder="correo@empresa.com"
          required 
          id="CorreoElectronico"
          formControlName="CorreoElectronico"
          type="email"
          class="text-[##393937] text-sm font-medium p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#CB9F01] focus:ring-opacity-50"
          [class.noValido]="form.controls['CorreoElectronico'].invalid && (form.controls['CorreoElectronico'].touched || form.controls['CorreoElectronico'].dirty)"
          [class.valido]="form.controls['CorreoElectronico'].valid && (form.controls['CorreoElectronico'].touched || form.controls['CorreoElectronico'].dirty)"
        />
        <!-- Elementos de validación -->
        <div
          *ngIf="form.controls['CorreoElectronico'].invalid && (form.controls['CorreoElectronico'].touched || form.controls['CorreoElectronico'].dirty)"
        >
          <p
            class="text-[#760000] text-xs font-semibold px-2"
            *ngIf="form.controls['CorreoElectronico'].errors?.['required']"
          >
            Este campo es obligatorio
          </p>
          <p
            class="text-[#760000] text-xs font-semibold px-2"
            *ngIf="form.controls['CorreoElectronico'].errors?.['email']"
          >
            El correo no es válido
          </p>
        </div>
      </div>

      <!-- Campo Sitio Web -->
      <div class="flex flex-col sm:py-4 py-2 justify-start min-h-32">
        <label 
          for="SitioWeb" 
          class="text-[#242422] text-md font-semibold px-2"
          [class.validoTexto]="form.controls['SitioWeb'].valid && (form.controls['SitioWeb'].touched || form.controls['SitioWeb'].dirty)"
        >
          Sitio Web
        </label>
        <input
          placeholder="empresa.com"
          required 
          id="SitioWeb"
          formControlName="SitioWeb"
          type="url"
          class="text-[##393937] text-sm font-medium p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#CB9F01] focus:ring-opacity-50"
          [class.noValido]="form.controls['SitioWeb'].invalid && (form.controls['SitioWeb'].touched || form.controls['SitioWeb'].dirty)"
          [class.valido]="form.controls['SitioWeb'].valid && (form.controls['SitioWeb'].touched || form.controls['SitioWeb'].dirty)"
        />
        <!-- Elementos de validación -->
        <div
          *ngIf="form.controls['SitioWeb'].invalid && (form.controls['SitioWeb'].touched || form.controls['SitioWeb'].dirty)"
        >
          <p
            class="text-[#760000] text-xs font-semibold px-2"
            *ngIf="form.controls['SitioWeb'].errors?.['required']"
          >
            Este campo es obligatorio
          </p>
          <p
            class="text-[#760000] text-xs font-semibold px-2"
            *ngIf="form.controls['SitioWeb'].errors?.['pattern']"
          >
            La URL no es válida
          </p>
        </div>
      </div>

      <!-- Campo Direccion -->
      <div class="flex flex-col sm:py-4 py-2 justify-start min-h-32">
        <label 
          for="Direccion" 
          class="text-[#242422] text-md font-semibold px-2"
          [class.validoTexto]="form.controls['Direccion'].valid && (form.controls['Direccion'].touched || form.controls['Direccion'].dirty)"
        >
          Dirección física
        </label>
        <input
          placeholder="Dirección de empresa"
          required 
          id="Direccion"
          formControlName="Direccion"
          type="text"
          class="text-[##393937] text-sm font-medium p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#CB9F01] focus:ring-opacity-50"
          [class.noValido]="form.controls['Direccion'].invalid && (form.controls['Direccion'].touched || form.controls['Direccion'].dirty)"
          [class.valido]="form.controls['Direccion'].valid && (form.controls['Direccion'].touched || form.controls['Direccion'].dirty)"
        />
        <!-- Elementos de validación -->
        <div
          *ngIf="form.controls['Direccion'].invalid && (form.controls['Direccion'].touched || form.controls['Direccion'].dirty)"
        >
          <p
            class="text-[#760000] text-xs font-semibold px-2"
            *ngIf="form.controls['Direccion'].errors?.['required']"
          >
            Este campo es obligatorio
          </p>
        </div>
      </div>

      <!-- Campo Pais -->
      <div class="flex flex-col sm:py-4 py-2 justify-start min-h-32">
        <label 
          for="Pais" 
          class="text-[#242422] text-md font-semibold px-2"
          [class.validoTexto]="form.controls['Pais'].valid && (form.controls['Pais'].touched || form.controls['Pais'].dirty)"
        >
          País
        </label>
        <input
          placeholder="Perú"
          required 
          id="Pais"
          formControlName="Pais"
          type="text"
          class="text-[##393937] text-sm font-medium p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#CB9F01] focus:ring-opacity-50"
          [class.noValido]="form.controls['Pais'].invalid && (form.controls['Pais'].touched || form.controls['Pais'].dirty)"
          [class.valido]="form.controls['Pais'].valid && (form.controls['Pais'].touched || form.controls['Pais'].dirty)"
        />
        <!-- Elementos de validación -->
        <div
          *ngIf="form.controls['Pais'].invalid && (form.controls['Pais'].touched || form.controls['Pais'].dirty)"
        >
          <p
            class="text-[#760000] text-xs font-semibold px-2"
            *ngIf="form.controls['Pais'].errors?.['required']"
          >
            Este campo es obligatorio
          </p>
        </div>
      </div>

      <!-- Campo Facturacion -->
      <div class="flex flex-col sm:py-4 py-2 justify-start min-h-32">
        <label 
          for="Facturacion"
          class="text-[#242422] text-md font-semibold px-2"
          [class.validoTexto]="form.controls['Facturacion'].valid && (form.controls['Facturacion'].touched || form.controls['Facturacion'].dirty)"
        >
          Facturación anual en dólares
        </label>
        <input
          placeholder="500000"
          required 
          id="Facturacion"
          formControlName="Facturacion"
          type="number"
          class="text-[##393937] text-sm font-medium p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#CB9F01] focus:ring-opacity-50"
          [class.noValido]="form.controls['Facturacion'].invalid && (form.controls['Facturacion'].touched || form.controls['Facturacion'].dirty)"
          [class.valido]="form.controls['Facturacion'].valid && (form.controls['Facturacion'].touched || form.controls['Facturacion'].dirty)"
        />
        <!-- Elementos de validación -->
        <div
          *ngIf="form.controls['Facturacion'].invalid && (form.controls['Facturacion'].touched || form.controls['Facturacion'].dirty)"
        >
          <p
            class="text-[#760000] text-xs font-semibold px-2"
            *ngIf="form.controls['Facturacion'].errors?.['required']"
          >
            Este campo es obligatorio
          </p>
        </div>
      </div>

      <!-- Campo Fecha de creación -->
      <div class="hidden flex-col sm:py-4 py-2 justify-start min-h-32">
        <label for="FechaEdicion" class="text-[#242422] text-md font-semibold px-2">Fecha de última edición</label>
        <input
          required 
          id="FechaEdicion"
          formControlName="FechaEdicion"
          type="date"
          class="text-[##393937] text-sm font-medium p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#CB9F01] focus:ring-opacity-50"
        />
      </div>

      <!-- Campo Id -->
      <div class="hidden flex-col sm:py-4 py-2 justify-start min-h-32">
        <label for="id" class="text-[#242422] text-md font-semibold px-2">Id</label>
        <input
          required 
          id="id"
          formControlName="id"
          type="number"
          class="text-[##393937] text-sm font-medium p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#CB9F01] focus:ring-opacity-50"
        />
      </div>

      <!-- Boton para agregar empresa -->
      <div class="flex flex-col sm:py-4 py-2 items-center justify-center rounded lg:col-start-2 lg:col-span-1 sm:col-span-2 col-span-1 ">
        <button 
          type="submit"
          *ngIf="!this.visible"
          class="flex flex-row items-center justify-center w-[60%] bg-green-500 text-white font-semibold py-2 transition-all duration-200 ease-in-out hover:bg-green-800"
          [disabled]="this.form.invalid"
          [class.disabled]="this.form.invalid"
        >
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
            <path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3" />
          </svg>
          <p class="px-2 text-sm">
            Añadir producto
          </p>
        </button>
      </div>
    </form>

    <!-- Botones de habilitacion de edicion de empresa -->
    <div class="flex flex-col items-center justify-center">
      <button 
        (click)="habilitarFormulario()"
        *ngIf="this.visible && !this.able"
        class="flex flex-row bg-[#CB9F01] text-[#282828] font-semibold items-center justify-center rounded py-2 px-8 transition-all duration-200 ease-in-out hover:bg-[#CB9F01]/60"
      >
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
          <path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10" />
        </svg>
        <p class="px-2">
          Habilitar edición
        </p>
      </button>
    </div>
    
    <!-- Botones de edición de empresa -->
    <div class="sm:absolute bottom-4 right-40 flex flex-wrap justify-center items-center">
      <button 
        (click)="editarEmpresa(this.form.value.id ?? 0)"
        *ngIf="this.visible && this.able"
        class="flex flex-row items-center justify-center bg-green-700 text-white font-semibold rounded py-2 px-8 transition-all duration-200 ease-in-out hover:bg-green-900 w-40"
        [disabled]="this.form.invalid"
        [class.disabled]="this.form.invalid"
      >
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4">
          <path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10" />
        </svg>
        <p class="px-1 text-sm">
          EDITAR
        </p>
      </button>
      <button 
        (click)="eliminarEmpresa(this.form.value.id ?? 0)"
        *ngIf="this.visible && this.able"
        class="flex flex-row items-center justify-center bg-red-500 text-white font-semibold rounded py-2 px-8 transition-all duration-200 ease-in-out hover:bg-red-800 w-40"
      >
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4">
          <path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0" />
        </svg>
        <p class="px-1 text-sm">
          ELIMINAR
        </p>
      </button>
    </div>
    <!-- Boton para cancelar -->
    <button 
      (click)="cancelar()"
      *ngIf="this.visible"
      class="text-[#282828] font-bold py-2 transition-all duration-200 ease-in-out hover:text-[#CB9F01] absolute top-2 right-6"
    >
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8">
        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" />
      </svg> 
    </button>
  </section>

  <!-- Listado de empresas -->
  <section 
    id="Companies"
    class="sm:w-[85%] w-full bg-[#FDFBF6] p-8 rounded-2xl flex flex-col sm:my-12 my-8 transition-all ease-in-out duration-200"
  >
    <h3 class="font-semibold text-[#242422] text-xl py-4 px-2">All Entities</h3>
    <div class="flex justify-end">
      <input 
        type="text"
        placeholder="Buscar empresa por nombre"
        class="border border-yellow-500 w-1/6 p-2 my-4 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#CB9F01] focus:ring-opacity-50"
        [(ngModel)]="filtername"
      >
    </div>
    <table class="table-auto border-spacing-y-2.5 border-collapse border border-slate-400">
      <!-- Encabezados de tabla -->
      <thead class="thead-border">
        <tr class="text-left md:text-md text-sm text-[#ead949] font-bold bg-[#302E39]">
          <th class="py-2 border border-e-slate-300">
            <div class="flex items-center justify-center">
              <svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                <path fill-rule="evenodd" d="M10 2a3 3 0 0 0-3 3v1H5a3 3 0 0 0-3 3v2.382l1.447.723.005.003.027.013.12.056c.108.05.272.123.486.212.429.177 1.056.416 1.834.655C7.481 13.524 9.63 14 12 14c2.372 0 4.52-.475 6.08-.956.78-.24 1.406-.478 1.835-.655a14.028 14.028 0 0 0 .606-.268l.027-.013.005-.002L22 11.381V9a3 3 0 0 0-3-3h-2V5a3 3 0 0 0-3-3h-4Zm5 4V5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v1h6Zm6.447 7.894.553-.276V19a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3v-5.382l.553.276.002.002.004.002.013.006.041.02.151.07c.13.06.318.144.557.242.478.198 1.163.46 2.01.72C7.019 15.476 9.37 16 12 16c2.628 0 4.98-.525 6.67-1.044a22.95 22.95 0 0 0 2.01-.72 15.994 15.994 0 0 0 .707-.312l.041-.02.013-.006.004-.002.001-.001-.431-.866.432.865ZM12 10a1 1 0 1 0 0 2h.01a1 1 0 1 0 0-2H12Z" clip-rule="evenodd"/>
              </svg>
              <p class="pl-2">Nombre</p>              
            </div>
          </th>
          <th class="xl:table-cell hidden border border-e-slate-300">
            <div class="flex items-center justify-center">
              <svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                <path d="M7.978 4a2.553 2.553 0 0 0-1.926.877C4.233 6.7 3.699 8.751 4.153 10.814c.44 1.995 1.778 3.893 3.456 5.572 1.68 1.679 3.577 3.018 5.57 3.459 2.062.456 4.115-.073 5.94-1.885a2.556 2.556 0 0 0 .001-3.861l-1.21-1.21a2.689 2.689 0 0 0-3.802 0l-.617.618a.806.806 0 0 1-1.14 0l-1.854-1.855a.807.807 0 0 1 0-1.14l.618-.62a2.692 2.692 0 0 0 0-3.803l-1.21-1.211A2.555 2.555 0 0 0 7.978 4Z"/>
              </svg>            
              <p class="pl-1">Número Telefónico</p>
            </div>
          </th>
          <th class="lg:table-cell hidden border border-e-slate-300">
            <div class="flex items-center justify-center">
              <svg class="w-6 h-6" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                <path d="M2.038 5.61A2.01 2.01 0 0 0 2 6v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6c0-.12-.01-.238-.03-.352l-.866.65-7.89 6.032a2 2 0 0 1-2.429 0L2.884 6.288l-.846-.677Z"/>
                <path d="M20.677 4.117A1.996 1.996 0 0 0 20 4H4c-.225 0-.44.037-.642.105l.758.607L12 10.742 19.9 4.7l.777-.583Z"/>
              </svg>
              <p class="pl-1">Sitio Web</p>              
            </div>
          </th>
          <!-- <th>Sitio</th> -->
          <th class="border border-e-slate-300">
            <div class="flex items-center justify-center">
              <svg class="w-6 h-6" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                <path d="M13.09 3.294c1.924.95 3.422 1.69 5.472.692a1 1 0 0 1 1.438.9v9.54a1 1 0 0 1-.562.9c-2.981 1.45-5.382.24-7.25-.701a38.739 38.739 0 0 0-.622-.31c-1.033-.497-1.887-.812-2.756-.77-.76.036-1.672.357-2.81 1.396V21a1 1 0 1 1-2 0V4.971a1 1 0 0 1 .297-.71c1.522-1.506 2.967-2.185 4.417-2.255 1.407-.068 2.653.453 3.72.967.225.108.443.216.655.32Z"/>
              </svg>
              <p class="pl-1">País</p>              
            </div>
          </th>
          
          <th class="md:table-cell hidden border border-e-slate-300">
            <div class="flex justify-center">
              <svg class="w-6 h-6" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                <path fill-rule="evenodd" d="M7 6a2 2 0 0 1 2-2h11a2 2 0 0 1 2 2v7a2 2 0 0 1-2 2h-2v-4a3 3 0 0 0-3-3H7V6Z" clip-rule="evenodd"/>
                <path fill-rule="evenodd" d="M2 11a2 2 0 0 1 2-2h11a2 2 0 0 1 2 2v7a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-7Zm7.5 1a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5Z" clip-rule="evenodd"/>
                <path d="M10.5 14.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"/>
              </svg>
              <p class="pl-1 items-center">Facturación anual</p>              
            </div>
          </th>
          <th class="sm:table-cell hidden border border-e-slate-300">
            <div class="flex items-center justify-center">
              <svg class="w-6 h-6" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                <path fill-rule="evenodd" d="M5 5a1 1 0 0 0 1-1 1 1 0 1 1 2 0 1 1 0 0 0 1 1h1a1 1 0 0 0 1-1 1 1 0 1 1 2 0 1 1 0 0 0 1 1h1a1 1 0 0 0 1-1 1 1 0 1 1 2 0 1 1 0 0 0 1 1 2 2 0 0 1 2 2v1a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V7a2 2 0 0 1 2-2ZM3 19v-7a1 1 0 0 1 1-1h16a1 1 0 0 1 1 1v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2Zm6.01-6a1 1 0 1 0-2 0 1 1 0 0 0 2 0Zm2 0a1 1 0 1 1 2 0 1 1 0 0 1-2 0Zm6 0a1 1 0 1 0-2 0 1 1 0 0 0 2 0Zm-10 4a1 1 0 1 1 2 0 1 1 0 0 1-2 0Zm6 0a1 1 0 1 0-2 0 1 1 0 0 0 2 0Zm2 0a1 1 0 1 1 2 0 1 1 0 0 1-2 0Z" clip-rule="evenodd"/>
              </svg>              
              <p class="pl-1">Última edición</p>           
            </div>
          </th>
          <th class="border border-e-slate-300">
            <div class="flex items-center justify-center">
              
              <p class="pl-1">Opciones</p>              
            </div>
          </th>
        </tr>
      </thead>
      <!-- Cuerpo de tabla -->
      <tbody
        class="text-wrap text-[#636265] md:text-md text-sm font-semibold tracking-wide text-center transition-all"
        *ngFor="let entity of listEntity | namePipe : filtername"
      >
      <!-- .slice((currentPage-1)*pageSize, (currentPage-1)*pageSize+pageSize) -->
        <tr
          *ngIf="entity.nombreEmpresa !== '' && entity.nombreEmpresa !== null"
          class="border border-e-slate-300"
        >
          <td class="py-8 ">{{ entity.nombreEmpresa }}</td>
          <td class="xl:table-cell hidden ">{{ entity.numeroTelefono }}</td>
          <td class="lg:table-cell hidden ">
            <a href="{{ entity.sitioWeb }}" target="_blank">{{ entity.sitioWeb }}</a>
          </td>
          <td class="">{{ entity.pais }}</td>
          <td class="md:table-cell hidden ">{{ entity.facturacion }}</td>
          <td class="sm:table-cell hidden ">{{ entity.fechaEdicion }}</td>
          <td class="self-center">
            <a
                (click)="verEmpresa(entity.id)" 
              href="#detalles-empresa" 
              class="flex hover:text-[#CB9F01] justify-center transition-all duration-200 ease-in-out"
            >
              <svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                <path fill-rule="evenodd" d="M9 7V2.221a2 2 0 0 0-.5.365L4.586 6.5a2 2 0 0 0-.365.5H9Zm2 0V2h7a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V9h5a2 2 0 0 0 2-2Zm.5 5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Zm0 5c.47 0 .917-.092 1.326-.26l1.967 1.967a1 1 0 0 0 1.414-1.414l-1.817-1.818A3.5 3.5 0 1 0 11.5 17Z" clip-rule="evenodd"/>
              </svg>              
              Ver detalles
            </a>
          </td>
        </tr>
      </tbody>
    </table>

    <div *ngIf="totalPages">
      <ul class="flex justify-center items-center mt-8">
        <li 
          *ngFor="let page of [].constructor(totalPages); let i = index" 
          [class.bg-[#CB9F01]]="currentPage === i+1"
          [class.text-white]="currentPage === i+1"
          (click)="goSelectedPage(i+1)"
          class="mx-1 p-2 rounded-lg hover:bg-[#CB9F01] hover:text-white transition-all duration-200 ease-in-out cursor-pointer w-8 h-8 flex justify-center items-center"
        >
          {{ i+1 }}
        </li>
      </ul>
    </div>

    <!-- Lista de paginacion -->
    <!-- <div 
      *ngIf="listEntity.length > 0"
    >
      <p class="text-center pt-8 text-sm font-bold text-[#242422]">
        {{ currentPage + 1 }} - {{ totalPages }}
      </p>
      <div class="flex justify-center items-center pt-4">
        <button 
          (click)="previousPage()"
          *ngIf="currentPage > 0"
          class="hover:text-[#CB9F01]"
        >
          <svg class="w-10 h-10" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m14 8-4 4 4 4"/>
          </svg>
        </button>
        <button 
          (click)="nextPage()"
          [disabled]="currentPage >= listEntity.length/pageSize - 1"
          [class.hover:text-[#CB9F01]]="currentPage < listEntity.length/pageSize - 1"
        >
          <svg class="w-10 h-10" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m10 16 4-4-4-4"/>
          </svg>
        </button>
      </div>
    </div> -->
    
    <!-- Si no hay empresas registradas -->
    <div 
      *ngIf="listEntity.length === 0"
      class="flex flex-col items-center justify-center py-12"
    >
      <p class="text-[#242422] md:text-md text-sm font-semibold">No hay empresas registradas</p>
      <p class="text-[#242422] md:text-sm text-xs font-normal">Por favor, registre una empresa para visualizarla aquí.</p>
    </div>   
  </section>

</main>

<app-footer></app-footer>